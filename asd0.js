function transliterateW(iW, type, flav, nms) {
    const type = 5;
    const flav = "3";
    const nms = 1;
    iW = "%" + iW + "%";
    OrigW = iW;
    iW = iW.toLowerCase();
    iW = iW.replace(/[яꙗ]/g, "#a");
    iW = iW.replace(/ьа/g, "#a");
    iW = iW.replace(/ѥ/g, "#e");
    iW = iW.replace(/ье/g, "#e");
    iW = iW.replace(/ї/g, "#i");
    iW = iW.replace(/ьи/g, "#i");
    iW = iW.replace(/ё/g, "#o");
    iW = iW.replace(/ьо/g, "#o");
    iW = iW.replace(/ю/g, "#u");
    iW = iW.replace(/ьу/g, "#u");
    iW = iW.replace(/ѩ/g, "#ę");
    iW = iW.replace(/ьѧ/g, "#ę");
    iW = iW.replace(/ѭ/g, "#ų");
    iW = iW.replace(/ьѫ/g, "#ų");
    iW = iW.replace(/нь/g, "ń");
    iW = iW.replace(/н#/g, "nj");
    iW = iW.replace(/њ/g, "nj");
    iW = iW.replace(/ль/g, "ĺ");
    iW = iW.replace(/л#/g, "lj");
    iW = iW.replace(/љ/g, "lj");
    iW = iW.replace(/рь/g, "ŕ");
    iW = iW.replace(/р#/g, "ŕ");
    iW = iW.replace(/ть/g, "ť");
    iW = iW.replace(/т#/g, "ť");
    iW = iW.replace(/дь/g, "ď");
    iW = iW.replace(/д#/g, "ď");
    iW = iW.replace(/сь/g, "ś");
    iW = iW.replace(/с#/g, "ś");
    iW = iW.replace(/зь/g, "ź");
    iW = iW.replace(/з#/g, "ź");
    iW = iW.replace(/ь%/g, "%");
    iW = iW.replace(/[ђѓ]/g, "đ");
    iW = iW.replace(/[ћќ]/g, "ć");
    iW = iW.replace(/ѕ/g, "dz");
    iW = iW.replace(/џ/g, "dž");
    iW = iW.replace(/а/g, "a");
    iW = iW.replace(/б/g, "b");
    iW = iW.replace(/в/g, "v");
    iW = iW.replace(/[гґ]/g, "g");
    iW = iW.replace(/д/g, "d");
    iW = iW.replace(/[еэ]/g, "e");
    iW = iW.replace(/[єѣ]/g, "ě");
    iW = iW.replace(/ж/g, "ž");
    iW = iW.replace(/[зꙁꙀ]/g, "z");
    iW = iW.replace(/[иіѵѷ]/g, "i");
    iW = iW.replace(/[йјь#]/g, "j");
    iW = iW.replace(/к/g, "k");
    iW = iW.replace(/л/g, "l");
    iW = iW.replace(/м/g, "m");
    iW = iW.replace(/н/g, "n");
    iW = iW.replace(/[оѡ]/g, "o");
    iW = iW.replace(/п/g, "p");
    iW = iW.replace(/р/g, "r");
    iW = iW.replace(/с/g, "s");
    iW = iW.replace(/[тѳ]/g, "t");
    iW = iW.replace(/[уȣѹ]/g, "u");
    iW = iW.replace(/ф/g, "f");
    iW = iW.replace(/х/g, "h");
    iW = iW.replace(/ц/g, "c");
    iW = iW.replace(/ч/g, "č");
    iW = iW.replace(/ш/g, "š");
    iW = iW.replace(/щ/g, "šč");
    iW = iW.replace(/[ыꙑ]/g, "y");
    iW = iW.replace(/ъ/g, "q");
    iW = iW.replace(/ў/g, "ŭ");
    iW = iW.replace(/ѧ/g, "ę");
    iW = iW.replace(/ѫ/g, "ų");
    iW = iW.replace(/ѱ/g, "ps");
    iW = iW.replace(/ѯ/g, "ks");
    iW = iW.replace(/⁙/g, ".");
    iW = iW.replace(/zsk/g, "z#sk");
    iW = iW.replace(/zst/g, "z#st");
    iW = iW.replace(/%izs/g, "%iz#s");
    iW = iW.replace(/%bezs/g, "%bez#s");
    iW = iW.replace(/%razs/g, "%raz#s");
    iW = iW.replace(/%råzs/g, "%råz#s");
    iW = iW.replace(/konjug/g, "kon#jug");
    iW = iW.replace(/konjun/g, "kon#jun");
    iW = iW.replace(/injek/g, "in#jek");
    iW = iW.replace(/s[xz]/g, "š");
    iW = iW.replace(/c[xz]/g, "č");
    iW = iW.replace(/z[xs]/g, "ž");
    iW = iW.replace(/ż/g, "ž");
    iW = iW.replace(/ye/g, "ě");
    iW = iW.replace(/qu/g, "kv");
    iW = iW.replace(/ŀ/g, "ȯl");
    iW = iW.replace(/[ăq`]/g, "’");
    iW = iW.replace(/ch/g, "h");
    iW = iW.replace(/w/g, "v");
    iW = iW.replace(/x/g, "ks");
    iW = iW.replace(/[áàâā]/g, "a");
    iW = iW.replace(/[íìîīĭı]/g, "i");
    iW = iW.replace(/[úûůū]/g, "u");
    iW = iW.replace(/[ąǫũ]/g, "ų");
    iW = iW.replace(/ù/g, "ŭ");
    iW = iW.replace(/[éē]/g, "e");
    iW = iW.replace(/[ĕëè]/g, "ė");
    iW = iW.replace(/œóô/g, "o");
    iW = iW.replace(/[ŏöò]/g, "ȯ");
    iW = iW.replace(/ý/g, "y");
    iW = iW.replace(/ł/g, "l");
    iW = iW.replace(/ç/g, "c");
    iW = iW.replace(/ʒ/g, "z");
    iW = iW.replace(/ĵ/g, "j");
    iW = iW.replace(/[ĺļǉ]/g, "ľ");
    iW = iW.replace(/[ňñņǌ]/g, "ń");
    iW = iW.replace(/ř/g, "ŕ");
    iW = iW.replace(/t́/g, "ť");
    iW = iW.replace(/d́/g, "ď");
    iW = iW.replace(/([jćđšžč])y/g, "$1i");
    iW = iW.replace(/jj/g, "j");
    iW = iW.replace(/ŕ/g, "ř");
    var aPos = iW.indexOf("ř");
    var vowel = /[aeiouyąęųåėȯèòěê]/;
    if (aPos > 1 && iW.charAt(aPos - 1) != "%" && vowel.test(iW.charAt(aPos - 1)) == false && vowel.test(iW.charAt(aPos + 1)) == false) {
        iW = iW.substring(0, aPos) + "ŕ" + iW.substring(aPos + 1, iW.length);
    }
    iW = iW.replace(/rj/g, "Rj");
    iW = iW.replace(/jr/g, "jR");
    var rPos = iW.indexOf("r");
    var vowel = /[aeiouyąęųåėȯèòěê]/;
    if (rPos > 1 && iW.charAt(rPos - 1) != "%" && vowel.test(iW.charAt(rPos - 1)) == false && vowel.test(iW.charAt(rPos + 1)) == false) {
        iW = iW.substring(0, rPos) + "ṙ" + iW.substring(rPos + 1, iW.length);
        iW = iW.replace(/([šžčc])ṙ/g, "$1ŕ");
    }
    iW = iW.replace(/R/g, "r");
    iW = iW.replace(/x/g, "ks");
    iW = iW.replace(/([ńľřťďśź])j/g, "$1ıj");
    iW = iW.replace(/([dsz])j/g, "$1#j");
    iW = iW.replace(/%obj/g, "ob#j");
    iW = iW.replace(/%neobj/g, "neob#j");
    iW = iW.replace(/%vj/g, "v#j");
    iW = iW.replace(/[ęė]/g, "e");
    iW = iW.replace(/å/g, "a");
    iW = iW.replace(/ȯ/g, "o");
    iW = iW.replace(/ų/g, "u");
    iW = iW.replace(/ć/g, "č");
    iW = iW.replace(/đ/g, "dž");
    iW = iW.replace(/ř/g, "r");
    iW = iW.replace(/ľ/g, "l");
    iW = iW.replace(/ń/g, "n");
    iW = iW.replace(/ť/g, "t");
    iW = iW.replace(/ď/g, "d");
    iW = iW.replace(/ś/g, "s");
    iW = iW.replace(/ź/g, "z");
    iW = iW.replace(/lj/g, "љ");
    iW = iW.replace(/nj/g, "њ");
    iW = iW.replace(/a/g, "а");
    iW = iW.replace(/å/g, "ӑ");
    iW = iW.replace(/b/g, "б");
    iW = iW.replace(/c/g, "ц");
    iW = iW.replace(/ć/g, "ћ");
    iW = iW.replace(/č/g, "ч");
    iW = iW.replace(/[dḓ]/g, "д");
    iW = iW.replace(/ď/g, "дь");
    iW = iW.replace(/đ/g, "ђ");
    iW = iW.replace(/e/g, "е");
    iW = iW.replace(/ę/g, "ѧ");
    iW = iW.replace(/ě/g, "є");
    iW = iW.replace(/f/g, "ф");
    iW = iW.replace(/g/g, "г");
    iW = iW.replace(/h/g, "х");
    iW = iW.replace(/i/g, "и");
    iW = iW.replace(/j/g, "ј");
    iW = iW.replace(/k/g, "к");
    iW = iW.replace(/l/g, "л");
    iW = iW.replace(/ľ/g, "ль");
    iW = iW.replace(/m/g, "м");
    iW = iW.replace(/n/g, "н");
    iW = iW.replace(/ń/g, "нь");
    iW = iW.replace(/o/g, "о");
    iW = iW.replace(/ȯ/g, "ъ");
    iW = iW.replace(/p/g, "п");
    iW = iW.replace(/r/g, "р");
    iW = iW.replace(/ř/g, "рь");
    iW = iW.replace(/s/g, "с");
    iW = iW.replace(/ś/g, "сь");
    iW = iW.replace(/š/g, "ш");
    iW = iW.replace(/[tṱ]/g, "т");
    iW = iW.replace(/ť/g, "ть");
    iW = iW.replace(/u/g, "у");
    iW = iW.replace(/ų/g, "ѫ");
    iW = iW.replace(/ŭ/g, "ў");
    iW = iW.replace(/v/g, "в");
    iW = iW.replace(/y/g, "ы");
    iW = iW.replace(/z/g, "з");
    iW = iW.replace(/ź/g, "зь");
    iW = iW.replace(/ž/g, "ж");
    iW = iW.replace(/’/g, "ъ");
    iW = iW.replace(/`/g, "’");
    return iW;
}